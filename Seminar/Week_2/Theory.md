# Условен оператор (if-else) - Теория

## Основни понятия

### 1. Какво е условен оператор?

Условният оператор е една от най-важните управляващи структури в програмирането. Той позволява на програмата да взема решения на базата на определени условия и да изпълнява различни действия в зависимост от резултата.

```cpp
if (условие) {
    // код, който се изпълнява при истинно условие
} else {
    // код, който се изпълнява при лъжливо условие
}
```

### 2. Булеви стойности и логически операции

В C++ всяко условие се оценява като булева стойност:
- `true` (истина) - всяка стойност различна от 0 ✅
- `false` (лъжа) - стойност равна на 0 ❌

## Основни форми на условния оператор

### 1. Прост if

```cpp
if (условие) {
    // изпълнява се само при истинно условие
}
```

**Пример:**
```cpp
int age = 18;
if (age >= 18) {
    cout << "Можете да гласувате" << endl;
}
```

### 2. if-else

```cpp
if (условие) {
    // при истинно условие
} else {
    // при лъжливо условие
}
```

**Пример:**
```cpp
int number = 7;
if (number % 2 == 0) {
    cout << "Четно" << endl;
} else {
    cout << "Нечетно" << endl;
}
```

### 3. if-else if-else (верига от условия)

```cpp
if (условие1) {
    // при истинно условие1
} else if (условие2) {
    // при лъжливо условие1 и истинно условие2
} else if (условие3) {
    // при лъжливи условие1 и условие2, но истинно условие3
} else {
    // при всички лъжливи условия
}
```

**Пример:**
```cpp
int grade = 85;
if (grade >= 90) {
    cout << "Отличен" << endl;
} else if (grade >= 80) {
    cout << "Много добър" << endl;
} else if (grade >= 70) {
    cout << "Добър" << endl;
} else if (grade >= 60) {
    cout << "Среден" << endl;
} else {
    cout << "Слаб" << endl;
}
```

## Оператори за сравнение

| Оператор | Значение | Пример |
|----------|----------|---------|
| `==` | равно на | `a == b` |
| `!=` | не е равно на | `a != b` |
| `<` | по-малко от | `a < b` |
| `<=` | по-малко или равно на | `a <= b` |
| `>` | по-голямо от | `a > b` |
| `>=` | по-голямо или равно на | `a >= b` |

**⚠️ Важно:** Не бъркайте `=` (присвояване) с `==` (сравнение)!

**Пример за грешка с `=` вместо `==`:**
```cpp
int x = 10;
int y = 5;

// ГРЕШНО - използва присвояване вместо сравнение
if (x = y) {  // Присвоява стойността на y (5) на x
    cout << "x е равно на y" << endl;  // Винаги ще се изпълни!
    cout << "x сега е: " << x << endl; // Ще покаже: x сега е: 5
} else {
    cout << "x не е равно на y" << endl; // Никога няма да се изпълни
}

// ПРАВИЛНО - използва сравнение
if (x == y) {  // Сравнява стойностите на x и y
    cout << "x е равно на y" << endl;
} else {
    cout << "x не е равно на y" << endl; // Това ще се изпълни (ако x != y)
}
```

**Защо се случва това?**
- `x = y` присвоява стойността на `y` на `x` и връща новата стойност на `x`
- Всяка стойност различна от 0 се счита за ✅ в булев контекст
- Така условието винаги е ✅ (освен ако присвояваме 0)

## Логически оператори

### 1. Логическо И (AND) - `&&`

Връща ✅ само когато И ДВЕТЕ условия са истинни.

```cpp
int age = 25;
bool hasLicense = true;

if (age >= 18 && hasLicense) {
    cout << "Можете да шофирате" << endl;
}
```

**Таблица на истинността за `&&`:**
| A | B | A && B |
|---|---|---------|
| ❌ | ❌ | ❌ |
| ❌ | ✅ | ❌ |
| ✅ | ❌ | ❌ |
| ✅ | ✅ | ✅ |

### 2. Логическо ИЛИ (OR) - `||`

Връща ✅ когато ПОНЕ ЕДНО от условията е истинно.

```cpp
int day = 6; // Събота
if (day == 6 || day == 7) {
    cout << "Уикенд е!" << endl;
}
```

**Таблица на истинността за `||`:**
| A | B | A \|\| B |
|---|---|----------|
| ❌ | ❌ | ❌ |
| ❌ | ✅ | ✅ |
| ✅ | ❌ | ✅ |
| ✅ | ✅ | ✅ |

### 3. Логическо НЕ (NOT) - `!`

Обръща булевата стойност.

```cpp
bool isRaining = false;
if (!isRaining) {
    cout << "Може да излезем навън" << endl;
}
```

**Таблица на истинността за `!`:**
| A | !A |
|---|-----|
| ❌ | ✅ |
| ✅ | ❌ |

## Приоритет на операторите

От най-висок към най-нисък приоритет:
1. `!` (логическо НЕ)
2. `<`, `<=`, `>`, `>=` (сравнения)
3. `==`, `!=` (равенство)
4. `&&` (логическо И)
5. `||` (логическо ИЛИ)

**Пример:**
```cpp
// Това условие се чете като: (a > 5) && ((b < 10) || (c == 0))
if (a > 5 && b < 10 || c == 0) {
    // За яснота е по-добре да използваме скоби:
    // if ((a > 5) && ((b < 10) || (c == 0)))
}
```

## Тернарен оператор (? :)

Кратка форма на if-else за прости случаи:

```cpp
// Синтаксис: условие ? стойност_при_true : стойност_при_false
int a = 5, b = 3;
int max = (a > b) ? a : b;
cout << "По-голямото число е: " << max << endl;
```

Еквивалентен код с if-else:
```cpp
int a = 5, b = 3;
int max;
if (a > b) {
    max = a;
} else {
    max = b;
}
```

## Вложени условни оператори

```cpp
int temperature = 25;
bool isRaining = false;

if (temperature > 20) {
    if (!isRaining) {
        cout << "Прекрасно време за разходка!" << endl;
    } else {
        cout << "Топло е, но вали дъжд" << endl;
    }
} else {
    cout << "Твърде студено е" << endl;
}
```

## Работа със символи (char)

### ASCII стойности

Всеки символ има цифрова стойност (ASCII код):
- `'A'` до `'Z'`: 65-90
- `'a'` до `'z'`: 97-122
- `'0'` до `'9'`: 48-57

```cpp
char ch = 'A';
if (ch >= 'A' && ch <= 'Z') {
    cout << "Главна буква" << endl;
} else if (ch >= 'a' && ch <= 'z') {
    cout << "Малка буква" << endl;
} else if (ch >= '0' && ch <= '9') {
    cout << "Цифра" << endl;
}
```

### Конвертиране между главни и малки букви

```cpp
char upperToLower(char ch) {
    if (ch >= 'A' && ch <= 'Z') {
        return ch + 32; // или ch + ('a' - 'A')
    }
    return ch;
}

char lowerToUpper(char ch) {
    if (ch >= 'a' && ch <= 'z') {
        return ch - 32; // или ch - ('a' - 'A')
    }
    return ch;
}
```

## Работа с числа и цифри

### Извличане на цифри от число

```cpp
int number = 1234;
int units = number % 10;           // 4
int tens = (number / 10) % 10;     // 3
int hundreds = (number / 100) % 10; // 2
int thousands = (number / 1000) % 10; // 1
```

### Проверка за уникални цифри

```cpp
bool hasUniqueDigits(int number) {
    // За 4-цифрено число
    int d1 = number % 10;
    int d2 = (number / 10) % 10;
    int d3 = (number / 100) % 10;
    int d4 = (number / 1000) % 10;
    
    return (d1 != d2 && d1 != d3 && d1 != d4 &&
            d2 != d3 && d2 != d4 && 
            d3 != d4);
}
```

## Напреднали техники

### 1. Проверка за валиден триъгълник

```cpp
bool isValidTriangle(int a, int b, int c) {
    return (a + b > c) && (a + c > b) && (b + c > a);
}

string getTriangleType(int a, int b, int c) {
    if (!isValidTriangle(a, b, c)) {
        return "Не е валиден триъгълник";
    }
    
    if (a == b && b == c) {
        return "Равностранен";
    } else if (a == b || b == c || a == c) {
        return "Равнобедрен";
    } else {
        return "Разностранен";
    }
}
```

### 2. Сортиране на числа без масиви

```cpp
void sortThreeNumbers(int &a, int &b, int &c) {
    // Bubble sort принцип за три числа
    if (a < b) swap(a, b);
    if (b < c) swap(b, c);
    if (a < b) swap(a, b);
    // Сега a >= b >= c
}

// Функция за размяна
void swap(int &x, int &y) {
    int temp = x;
    x = y;
    y = temp;
}
```

### 3. Работа с време

```cpp
struct Time {
    int hours;
    int minutes;
};

bool isEarlier(Time t1, Time t2) {
    if (t1.hours < t2.hours) {
        return true;
    } else if (t1.hours == t2.hours) {
        return t1.minutes < t2.minutes;
    }
    return false;
}

// Алтернативен подход - конвертиране в минути
int timeToMinutes(Time t) {
    return t.hours * 60 + t.minutes;
}

bool isEarlierSimple(Time t1, Time t2) {
    return timeToMinutes(t1) < timeToMinutes(t2);
}
```

### 4. Конвертиране на температури

```cpp
double celsiusToFahrenheit(double celsius) {
    return (celsius * 9.0 / 5.0) + 32.0;
}

double celsiusToKelvin(double celsius) {
    return celsius + 273.15;
}

double fahrenheitToCelsius(double fahrenheit) {
    return (fahrenheit - 32.0) * 5.0 / 9.0;
}

double kelvinToCelsius(double kelvin) {
    return kelvin - 273.15;
}

void convertTemperature(double value, char from) {
    double celsius, fahrenheit, kelvin;
    
    switch (from) {
        case 'C':
            celsius = value;
            fahrenheit = celsiusToFahrenheit(celsius);
            kelvin = celsiusToKelvin(celsius);
            break;
        case 'F':
            fahrenheit = value;
            celsius = fahrenheitToCelsius(fahrenheit);
            kelvin = celsiusToKelvin(celsius);
            break;
        case 'K':
            kelvin = value;
            celsius = kelvinToCelsius(kelvin);
            fahrenheit = celsiusToFahrenheit(celsius);
            break;
    }
    
    cout << celsius << " C" << endl;
    cout << fahrenheit << " F" << endl;
    cout << kelvin << " K" << endl;
}
```

## Често срещани грешки

### 1. Грешка с присвояване вместо сравнение

```cpp
// ГРЕШНО!
if (x = 5) { // Присвоява 5 на x, винаги е ✅
    // ...
}

// ПРАВИЛНО!
if (x == 5) { // Сравнява x с 5
    // ...
}
```

### 2. Грешка с поредност на операторите

```cpp
// ГРЕШНО - може да не работи както очаквате
if (x > 0 && x < 10 || y == 5) { 
    // ...
}

// ПРАВИЛНО - ясно групиране
if ((x > 0 && x < 10) || (y == 5)) {
    // ...
}
```

### 3. Грешка с floating-point сравнения

```cpp
// ГРЕШНО - може да не работи заради точността
double x = 0.1 + 0.2;
if (x == 0.3) { // Може да е ❌!
    // ...
}

// ПРАВИЛНО - използване на толеранс
const double EPSILON = 1e-9;
if (abs(x - 0.3) < EPSILON) {
    // ...
}
```

## Упражнения за размисъл

1. Какво ще отпечата следният код?
```cpp
int x = 5;
if (x = 3) {
    cout << "x е " << x << endl;
} else {
    cout << "x не е 3" << endl;
}
```

2. Как бихте проверили дали дадено число е перфектен квадрат?

3. Напишете условие, което проверява дали дадена година е високосна.

## Заключение

Условният оператор е фундаментален елемент в програмирането. Овладяването му е ключово за създаването на интелигентни програми, които могат да взимат решения. Практикувайте с различни комбинации от условия и логически оператори, за да развиете интуиция за тяхната употреба.

**Съвети за добра практика:**
- Използвайте скоби за яснота при сложни условия
- Избягвайте дълбоко вложени if-else структури
- Давайте смислени имена на променливите
- Коментирайте сложните условия
- Тествайте с различни входни стойности